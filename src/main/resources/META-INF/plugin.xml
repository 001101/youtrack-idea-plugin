<idea-plugin version="2">
    <id>com.github.jk1.ytplugin</id>
    <name>YouTrack Integration Plugin</name>
    <version>0.4.1</version>
    <vendor url="https://github.com/jk1/youtrack-idea-plugin"/>

    <description><![CDATA[
        <p>Extends bundled task management plugin to provide deeper integration with YouTrack bug tracker:</p>
        <ul>
            <li>Adds command window to execute YouTrack commands from IDE</li>
            <li>Supports code navigation when clicking on Java stacktraces in issue tracker</li>
            <li>Shows issue custom fields for YouTrack tasks</li>
            <li>Renders YouTrack wiki markup</li>
        </ul>
        <p>Compatibility: YouTrack 5.2+, Intellij Idea 15.0.2+<p/>
    ]]></description>

    <change-notes><![CDATA[
        <ul>
            <li>- Issue browser now displays comments</li>
            <li>- Clickable links in issue browser</li>
            <li>- "Analyze stacktrace" action is now available if issue description has a stacktrace</li>
            <li>- Resolved issue marked with strikeout issue ids</li>
            <li>- Compact view mode for issue list</li>
            <li>- Better YouTrack 5.2 compatibility</li>
        </ul>
          ]]></change-notes>

    <!-- IntelliJ IDEA 15, WebStorm 11, PyCharm 5, PhpStorm 10, RubyMine 8, AppCode 3.3, CLion 1.2, DataGrip 1.0 -->
    <idea-version since-build="143.0" until-build="171"/>
    <!-- Enable plugin in all products -->
    <depends>com.intellij.modules.lang</depends>
    <!-- We depend on bundled task management plugin -->
    <depends>com.intellij.tasks</depends>

    <actions>
        <action id="com.github.jk1.ytplugin.commands.OpenCommandWindowAction"
                class="com.github.jk1.ytplugin.commands.OpenCommandWindowAction">
            <keyboard-shortcut first-keystroke="control shift Y" keymap="$default"/>
            <add-to-group group-id="ToolsMenu" anchor="last"/>
        </action>
    </actions>

    <project-components>
        <component>
            <interface-class>com.github.jk1.ytplugin.commands.components.CommandComponent</interface-class>
            <implementation-class>com.github.jk1.ytplugin.commands.components.CommandComponentImpl
            </implementation-class>
            <skipForDefaultProject/>
        </component>
        <component>
            <implementation-class>com.github.jk1.ytplugin.common.components.TaskManagerProxyComponent
            </implementation-class>
            <skipForDefaultProject/>
        </component>
        <component>
            <interface-class>com.github.jk1.ytplugin.commands.components.AdminComponent</interface-class>
            <implementation-class>com.github.jk1.ytplugin.commands.components.AdminComponentImpl</implementation-class>
            <skipForDefaultProject/>
        </component>
        <component>
            <implementation-class>com.github.jk1.ytplugin.navigator.components.SourceNavigatorComponent
            </implementation-class>
            <skipForDefaultProject/>
        </component>
        <component>
            <implementation-class>com.github.jk1.ytplugin.search.components.IssueStoreComponent</implementation-class>
            <skipForDefaultProject/>
        </component>
    </project-components>

    <extensions defaultExtensionNs="com.intellij">
        <!--YouTrack command language support-->
        <fileTypeFactory implementation="com.github.jk1.ytplugin.commands.lang.CommandFileFactory"/>
        <lang.parserDefinition language="YouTrack Commands"
                               implementationClass="com.github.jk1.ytplugin.commands.lang.CommandParserDefinition"/>
        <completion.contributor language="YouTrack Commands"
                                implementationClass="com.github.jk1.ytplugin.commands.lang.CommandCompletionContributor"/>
        <externalAnnotator language="YouTrack Commands"
                           implementationClass="com.github.jk1.ytplugin.commands.lang.CommandHighlightingAnnotator"/>
        <toolWindow id="YouTrack" anchor="bottom" icon="/icons/youtrack@13.png"
                    factoryClass="com.github.jk1.ytplugin.search.IssuesToolWindowFactory" canCloseContents="true"/>
    </extensions>
</idea-plugin>