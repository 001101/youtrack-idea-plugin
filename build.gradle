plugins {
    id 'org.jetbrains.intellij' version '0.1.10'
    id 'ru.vyarus.animalsniffer' version '1.2.0'
    id "com.zoltu.kotlin" version "1.0.1"
    id 'idea'
}

sourceCompatibility = 1.7
targetCompatibility = 1.7

group 'com.github.jk1'
version '0.6'

repositories {
    mavenCentral()
}

intellij {
    version 'IC-2016.1'           //IntelliJ IDEA 16 dependency
    plugins 'tasks'               //Bundled plugin dependencies
    updateSinceUntilBuild false
    instrumentCode false
    pluginName 'ytplugin'
}

dependencies {
    compile "org.jetbrains.kotlin:kotlin-stdlib:1.0.1"
    compile "org.jetbrains.kotlin:kotlin-reflect:1.0.1"
    compile 'org.nanohttpd:nanohttpd:2.3.0'

    testCompile 'junit:junit:4.12'

    signature 'org.codehaus.mojo.signature:java17:1.0@signature'
}

test {
    dependsOn animalsnifferMain     // make sure we're java 1.7 compatible
    testLogging {
        showStandardStreams = true
        exceptionFormat = 'full'
    }
    outputs.upToDateWhen { false }
}

